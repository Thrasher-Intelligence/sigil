/* AlienBlood Theme - CSS Variables */
:root {
  /* Original Mappings */
  --button-background-base: #2f6a7f; /* Mapped to --primary-dark */
  --header-text-color: #e08009;
  --input-text-color: #2b9c7c; /* Brighter balanced green */
  --ui-text-primary: #2b9c7c; /* Brighter balanced green */
  --user-message-glow-color: #107343;
  --backend-message-glow-color: #e08009;
  
  /* Chat Message Styling */
  --user-bubble-bg: rgba(16, 115, 67, 0.25); /* Subtle green tint from user-message-glow */
  --user-bubble-border: rgba(43, 156, 124, 0.5); /* From ui-text-primary */
  --user-bubble-glow: rgba(16, 115, 67, 0.2); /* Subtle glow effect */
  --assistant-bubble-bg: rgba(224, 128, 9, 0.15); /* Subtle orange tint from backend-message-glow */
  --assistant-bubble-border: rgba(224, 128, 9, 0.4); /* From header-text-color */
  --assistant-bubble-glow: rgba(224, 128, 9, 0.15); /* Subtle glow effect */
  
  /* Tab Styling */
  --tab-inactive-bg: rgba(29, 36, 44, 0.8); /* Darker variant of background */
  --tab-inactive-color: #718096; /* Muted text */
  --tab-hover-bg: rgba(47, 106, 127, 0.3); /* Light variant of primary */
  --tab-hover-color: #a0aec0; /* Lighter text on hover */
  --tab-active-bg: rgba(16, 115, 67, 0.2); /* Subtle green background */
  --tab-active-color: #2b9c7c; /* Match ui-text-primary */
  --tab-border-color: rgba(47, 106, 127, 0.3); /* Subtle border */
  --tab-active-border-color: rgba(43, 156, 124, 0.5); /* Stronger border for active tab */
  --tab-container-border-color: rgba(47, 106, 127, 0.3); /* Border below tabs */

  /* --- Derived & Default Colors --- */
  /* Backgrounds */
  --background-dark: #1a202c; /* Dark blue/grey */
  --surface-dark: #2d3748; /* Slightly lighter */
  --panel-bg-dark: #212a38; /* Derived */
  --background-light: #f7fafc; /* Very Light Grey/Blue (Lab White) */
  --surface-light: #e8f0f5; /* Lighter Cool Grey */
  --panel-bg-light: #dde4eb; /* Medium Cool Grey */

  /* Inputs */
  --input-bg-dark: var(--panel-bg-dark);
  --input-bg-light: #ffffff; /* White */
  --disabled-bg-dark: #4a5568; /* Derived */
  --disabled-bg-light: #cad0d7; /* Muted Grey */
  --disabled-fg-dark: #a0aec0; /* Derived */
  --disabled-fg-light: #8a919a; /* Muted Grey Text */

  /* Panel Tabs */
  --panel-tab-bg-dark: var(--surface-dark);
  --panel-tab-bg-light: #dde4eb; /* Match panel bg light */
  --panel-tab-active-bg-dark: var(--panel-bg-dark);
  --panel-tab-active-bg-light: #e8f0f5; /* Match surface light */
  --panel-tab-text-dark: #a0aec0; /* Using disabled fg */
  --panel-tab-text-light: #718096; /* Medium Grey Text */
  --panel-tab-active-text-dark: var(--ui-text-primary);
  --panel-tab-active-text-light: #4a5568; /* Darker Grey Text */
  --panel-container-bg-dark: var(--panel-bg-dark);
  --panel-container-bg-light: #dde4eb; /* Match panel bg light */

  /* Buttons */
  --primary-dark: #2f6a7f; /* Original --button-background-base */
  --primary-light: #9ae6b4; /* Soft Lime Green (Bio-luminescence) */
  --primary-hover-dark: #2c5282; /* Darker blue */
  --primary-hover-light: #88d4a3; /* Darker Lime Green */
  --button-foreground-dark: #edf2f7; /* Match light background */
  --button-foreground-light: #205038; /* Dark Green text on Lime */

  --button-bg-dark: #4a5568; /* Using disabled bg */
  --button-bg-light: #a0aec0; /* Light Grey Button */
  --button-hover-bg-dark: #2d3748; /* Using surface dark */
  --button-hover-bg-light: #8b97a8; /* Darker Light Grey */
  --button-border-dark: #718096; /* Derived */
  --button-border-light: #9aabb9; /* Subtler Grey Border */
  --button-text-dark: var(--ui-text-primary);
  --button-text-light: #2d3748; /* Darkest Grey Text */

  /* Focus Ring */
  --primary-focus-dark: rgba(47, 106, 127, 0.4);
  --primary-focus-light: rgba(154, 230, 180, 0.5); /* Based on primary-light green */

  /* Settings Panel & Input Details */
  --surface-input-dark: #3a4558; /* Derived */
  --surface-input-light: #ffffff; /* White */
  --border-input-dark: #4a5568; /* Using disabled bg */
  --border-input-light: #cbd5e0; /* Light Grey Border */
  --focus-ring-accent-dark: var(--primary-dark);
  --focus-ring-accent-light: var(--primary-light);
  --focus-ring-color-dark: var(--primary-focus-dark);
  --focus-ring-color-light: var(--primary-focus-light);
  --text-secondary-dark: #a0aec0; /* Using disabled fg */
  --text-secondary-light: #718096; /* Medium Grey Text */
  --primary-contrast-dark: var(--button-foreground-dark);
  --primary-contrast-light: var(--button-foreground-light);
  --surface-disabled-dark: var(--disabled-bg-dark);
  --surface-disabled-light: var(--disabled-bg-light);
  --text-disabled-dark: var(--disabled-fg-dark);
  --text-disabled-light: var(--disabled-fg-light);
  --surface-hover-dark: #404a5c; /* Derived */
  --surface-hover-light: #e2e8f0; /* Slightly darker cool grey */
  --border-input-hover-dark: #718096; /* Using button border */
  --border-input-hover-light: #b8c1cc; /* Darker grey border */

  /* --- Base variables that will be switched --- */
  --background: var(--background-dark);
  --surface: var(--surface-dark);
  --panel-bg-color: var(--panel-bg-dark);
  --input-bg: var(--input-bg-dark);
  --disabled-bg: var(--disabled-bg-dark);
  --disabled-fg: var(--disabled-fg-dark);
  
  /* Tab Overrides */
  --panel-tab-bg: var(--tab-inactive-bg, var(--panel-tab-bg-dark));
  --panel-tab-active-bg: var(--tab-active-bg, var(--panel-tab-active-bg-dark));
  --panel-tab-text: var(--tab-inactive-color, var(--panel-tab-text-dark));
  --panel-tab-active-text: var(--tab-active-color, var(--panel-tab-active-text-dark));
  --panel-container-bg: var(--panel-container-bg-dark);
  
  /* Chat Bubble Styles */
  --surface-user-msg: var(--user-bubble-bg, var(--surface-dark));
  --surface-backend-msg: var(--assistant-bubble-bg, var(--surface-dark));

  /* Button Base Variables */
  --primary: var(--primary-dark);
  --primary-hover: var(--primary-hover-dark);
  --button-foreground: var(--button-foreground-dark);
  --button-bg: var(--button-bg-dark);
  --button-hover-bg: var(--button-hover-bg-dark);
  --button-border: var(--button-border-dark);
  --button-text: var(--button-text-dark);
  --primary-focus: var(--primary-focus-dark);

  /* Settings Panel Base Variables */
  --surface-input: var(--surface-input-dark);
  --border-input: var(--border-input-dark);
  --focus-ring-accent: var(--focus-ring-accent-dark);
  --focus-ring-color: var(--focus-ring-color-dark);
  --text-secondary: var(--text-secondary-dark);
  --primary-contrast: var(--primary-contrast-dark);
  --surface-disabled: var(--surface-disabled-dark);
  --text-disabled: var(--text-disabled-dark);
  --surface-hover: var(--surface-hover-dark);
  --border-input-hover: var(--border-input-hover-dark);
}

/* --- Light Mode Overrides --- */
body.light-mode {
  /* Override root colors for light mode */
  --ui-text-primary: #4a5568; /* Darker Grey Text */
  --input-text-color: #2b9c7c; /* Brighter balanced green */
  --header-text-color: #4fd1c5; /* Desaturated Teal */
  --user-message-glow-color: #f6ad55; /* Muted Orange Glow */
  --backend-message-glow-color: #e57373; /* Muted Red Glow */
  --button-background-base: #9ae6b4; /* Override original mapping */
  
  /* Chat Message Light Mode Overrides */
  --user-bubble-bg: rgba(246, 173, 85, 0.1); /* Light orange tint */
  --user-bubble-border: rgba(43, 156, 124, 0.4); /* Soft green border */
  --user-bubble-glow: rgba(246, 173, 85, 0.1); /* Subtle glow */
  --assistant-bubble-bg: rgba(229, 115, 115, 0.08); /* Very light red */
  --assistant-bubble-border: rgba(229, 115, 115, 0.3); /* Soft red border */
  --assistant-bubble-glow: rgba(229, 115, 115, 0.1); /* Subtle glow */
  
  /* Tab Light Mode Overrides */
  --tab-inactive-bg: rgba(221, 228, 235, 0.8); /* Light gray background */
  --tab-inactive-color: #718096; /* Medium gray text */
  --tab-hover-bg: rgba(79, 209, 197, 0.15); /* Light teal from header-text-color */
  --tab-hover-color: #4a5568; /* Darker text on hover */
  --tab-active-bg: rgba(43, 156, 124, 0.1); /* Very light green */
  --tab-active-color: #2b9c7c; /* Green text for active tab */
  --tab-border-color: rgba(203, 213, 224, 0.8); /* Light border */
  --tab-active-border-color: rgba(43, 156, 124, 0.5); /* Green border for active tab */
  --tab-container-border-color: rgba(203, 213, 224, 0.8); /* Light border below tabs */

  /* Base */
  --background: var(--background-light);
  --surface: var(--surface-light);
  --panel-bg-color: var(--panel-bg-light);
  --input-bg: var(--input-bg-light);
  --disabled-bg: var(--disabled-bg-light);
  --disabled-fg: var(--disabled-fg-light);

  /* Panel Tabs */
  --panel-tab-bg: var(--tab-inactive-bg, var(--panel-tab-bg-light));
  --panel-tab-active-bg: var(--tab-active-bg, var(--panel-tab-active-bg-light));
  --panel-tab-text: var(--tab-inactive-color, var(--panel-tab-text-light));
  --panel-tab-active-text: var(--tab-active-color, var(--panel-tab-active-text-light));
  --panel-container-bg: var(--panel-container-bg-light);
  
  /* Chat Bubble Styles - Light Mode */
  --surface-user-msg: var(--user-bubble-bg, var(--surface-light));
  --surface-backend-msg: var(--assistant-bubble-bg, var(--surface-light));

  /* Button Base Variables */
  --primary: var(--primary-light);
  --primary-hover: var(--primary-hover-light);
  --button-foreground: var(--button-foreground-light);
  --button-bg: var(--button-bg-light);
  --button-hover-bg: var(--button-hover-bg-light);
  --button-border: var(--button-border-light);
  --button-text: var(--button-text-light);
  --primary-focus: var(--primary-focus-light);

  /* Settings Panel Base Variables */
  --surface-input: var(--surface-input-light);
  --border-input: var(--border-input-light);
  --focus-ring-accent: var(--focus-ring-accent-light);
  --focus-ring-color: var(--focus-ring-color-light);
  --text-secondary: var(--text-secondary-light);
  --primary-contrast: var(--primary-contrast-light);
  --surface-disabled: var(--surface-disabled-light);
  --text-disabled: var(--text-disabled-light);
  --surface-hover: var(--surface-hover-light);
  --border-input-hover: var(--border-input-hover-light);
}

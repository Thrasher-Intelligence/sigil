/* Vegas and Mojave Desert Theme - CSS Variables */
:root {
  /* Message Text Colors (will be overridden in light mode) */
  --user-message-text-color: #FFFFFF; /* Light text for user bubbles in dark mode */
  --assistant-message-text-color: #FFFFFF; /* Light text for assistant bubbles in dark mode */
  --foreground: #FFFFFF; /* Text color for messages in dark mode */
  
  /* --- Vegas Night (Dark Mode) Core Colors --- */
  
  /* High-End Casino Colors */
  --vegas-deep-green: #0A4D2E;     /* Rich felt green */
  --vegas-mahogany: #4A2410;       /* Dark wood trim */
  --vegas-gold-accent: #D4AF37;    /* Classic gold */
  --vegas-bordeaux: #4E0D15;       /* Deep red cloth */
  --vegas-brass: #B5A642;          /* Metallic accents */
  --vegas-shadow: #0C2318;         /* Dark green shadow */

  
  /* Input field background colors */
  --input-field-bg-dark: rgba(20, 50, 37, 0.65);   /* Dark green tinted background */
  --input-field-bg-light: rgba(242, 236, 225, 0.85); /* Light sand background */
  
  /* Chat Message Styling */
  --user-bubble-bg: rgba(190, 0, 0, 0.35); /* Rich red tint */
  --user-bubble-border: var(--vegas-gold-accent, rgba(212, 175, 55, 0.7)); /* Gold border for user messages and bold text */
  --user-bubble-glow: rgba(190, 0, 0, 0.3); /* Rich red glow effect */
  --assistant-bubble-bg: rgba(0, 200, 255, 0.3); /* Enhanced neon blue tint for Vegas feel */
  --assistant-bubble-border: var(--vegas-gold-accent, rgba(212, 175, 55, 0.7)); /* Gold border for assistant messages and bold text */
  --assistant-bubble-glow: rgba(0, 200, 255, 0.35); /* Enhanced neon glow effect */
  
  /* Code Block Styling - Dark Mode */
  --code-block-bg: rgba(20, 20, 20, 0.8); /* Dark background for code blocks */
  --code-block-border: var(--vegas-gold-accent, rgba(212, 175, 55, 0.3)); /* Gold border for code blocks */
  --inline-code-bg: rgba(30, 30, 30, 0.7); /* Dark background for inline code */
  --code-text-color: #E8DFC6; /* Light warm text for code */
  
  /* Tab Styling */
  --tab-inactive-bg: rgba(255, 215, 0, 0.15); /* Light gold for inactive */
  --tab-inactive-color: #D4AF37; /* Gold text */
  --tab-hover-bg: rgba(157, 0, 255, 0.3); /* Light variant of vegas-neon-purple */
  --tab-hover-color: #CCBBEE; /* Lighter text on hover */
  --tab-active-bg: rgba(26, 17, 42, 0.8); /* Darker background for active */
  --tab-active-color: #B099D0; /* Light text on dark background */
  --tab-border-color: rgba(75, 0, 130, 0.4); /* Subtle border from vegas-royal-purple */
  --tab-active-border-color: rgba(255, 215, 0, 0.5); /* Stronger border for active tab */
  --tab-container-border-color: rgba(75, 0, 130, 0.4); /* Border below tabs */
  
  /* Casino/Luxury Elements */
  --vegas-gold: #D4AF37;
  --vegas-royal-green: #0A4D2E;
  --vegas-deep-red: #4E0D15;
  --vegas-dark-wood: #2F1810;
  
  /* Dark Mode Background Gradients */
  --vegas-background-deep: #051D13; /* Deep green-black */
  --vegas-background-surface: #0A2D1F; /* Rich felt surface */
  --vegas-panel-bg: rgba(14, 56, 39, 0.85); /* Panels with green tint and transparency */
  
  /* --- Mojave Desert (Light Mode) Core Colors --- */
  /* --- Light Mode (Mojave Desert) Core Colors --- */
  
  /* Natural Desert Colors */
  --mojave-sand: #E8DAC5; /* Lighter sand */
  --mojave-terracotta: #E8A17C; /* Pastel terracotta */
  --mojave-sage: #B7C9A9; /* Pastel sage */
  --mojave-sunset-orange: #FFB299; /* Pastel sunset orange */
  --mojave-canyon-red: #E8A19B; /* Pastel canyon red */
  --mojave-desert-blue: #A5C0D9; /* Pastel desert sky blue */

  
  /* Light Mode Background Layers */
  --mojave-background-sand: #F5EDE2; /* Lighter sandy tone */
  --mojave-background-surface: #EBE1D1; /* Lighter sand surface */
  --mojave-panel-bg: rgba(225, 213, 194, 0.85); /* Semi-transparent panel sand color */

  /* --- Original Palette Mappings for Dark Mode (Vegas) --- */
  --button-background-base: var(--vegas-bordeaux);
  --header-text-color: var(--vegas-gold-accent);
  --input-text-color: #E8DFC6; /* Warm white for softer contrast */
  --ui-text-primary: #E8DFC6;
  --user-message-glow-color: #BE0000; /* Rich red for user messages */
  --backend-message-glow-color: var(--vegas-neon-blue);

  /* --- Backgrounds (Dark Mode - Vegas) --- */
  --background-dark: var(--vegas-background-deep);
  --surface-dark: var(--vegas-background-surface);
  --panel-bg-dark: var(--vegas-panel-bg);

  /* --- Input Area Colors (Dark Mode - Vegas) --- */
  --input-bg-dark: var(--input-field-bg-dark); /* Use our custom input background */
  --disabled-bg-dark: #1C432F; /* Muted green */
  --disabled-fg-dark: #5A8C76; /* Lighter muted green */

  /* --- Panel Tab/Container Colors (Dark Mode - Vegas) --- */
  --panel-tab-bg-dark: rgba(14, 56, 39, 0.85);
  --panel-tab-active-bg-dark: rgba(14, 82, 53, 0.9); /* Slightly lighter green with transparency */
  --panel-tab-text-dark: #8CB5A3; /* Light green text */
  --panel-tab-active-text-dark: var(--vegas-gold-accent); /* Gold for active tabs */
  --panel-container-bg-dark: rgba(14, 56, 39, 0.85);

  /* --- Button Colors (Dark Mode - Vegas) --- */
  --primary-dark: var(--vegas-gold);
  --primary-hover-dark: #E6C44C; /* Brighter gold on hover */
  --button-foreground-dark: #0F0718; /* Dark text on gold buttons */

  --button-bg-dark: var(--vegas-deep-red);
  --button-hover-bg-dark: #A00000; /* Brighter red on hover */
  --button-border-dark: #6E0000; /* Darker red border */
  --button-text-dark: #FFFFFF; /* White text on red */

  /* --- Focus Ring Color (Dark Mode - Vegas) --- */
  --primary-focus-dark: rgba(212, 175, 55, 0.5); /* Gold with alpha */

  /* --- Settings Panel & Input Details (Dark Mode - Vegas) --- */
  --surface-input-dark: #072D1E; /* Slightly darker than vegas surface */
  --border-input-dark: #0E5235; /* Green border */
  --focus-ring-accent-dark: var(--vegas-gold-accent);
  --focus-ring-color-dark: var(--primary-focus-dark);
  --text-secondary-dark: #8CB5A3; /* Light green secondary text */
  --primary-contrast-dark: var(--button-foreground-dark);
  --surface-disabled-dark: #352447; /* Muted purple background */
  --text-disabled-dark: #7A6B98; /* Muted purple text */
  --surface-hover-dark: #2E1B41; /* Slightly lighter on hover */
  --border-input-hover-dark: #5A3B85; /* Brighter purple border on hover */

  /* --- Light Mode (Mojave) Colors --- */
  /* --- Light Mode (Mojave Desert) Overrides --- */
  --background-light: var(--mojave-background-sand);
  --surface-light: var(--mojave-background-surface);
  --panel-bg-light: var(--mojave-panel-bg);
  
  /* Code Block Styling - Light Mode */
  --code-block-bg-light: rgba(60, 45, 35, 0.85); /* Rich dark wood/leather background for code blocks */
  --code-block-border-light: var(--mojave-terracotta, rgba(181, 98, 41, 0.5)); /* Terracotta border for code blocks */
  --inline-code-bg-light: rgba(70, 55, 45, 0.75); /* Slightly lighter background for inline code */
  --code-text-color-light: #F5EDE2; /* Light sand color for code text */

  /* --- Input Area Colors (Light Mode - Mojave) --- */
  --input-bg-light: var(--input-field-bg-light); /* Use our custom light input background */
  --disabled-bg-light: #C1B393; /* Muted sand, less contrast */
  --disabled-fg-light: #958870; /* Darker muted sand */

  /* --- Panel Tab/Container Colors (Light Mode - Mojave) --- */
  --panel-tab-bg-light: #F5EDE2; /* Very light sand for inactive tabs */
  --panel-tab-active-bg-light: #E8DAC5; /* Darker sand for active tabs */
  --panel-tab-text-light: var(--mojave-sunset-orange); /* Sunset orange for inactive */
  --panel-tab-active-text-light: #B7967A; /* Softer brown text for active */
  --panel-container-bg-light: var(--mojave-panel-bg);

  /* --- Button Colors (Light Mode - Mojave) --- */
  --primary-light: var(--mojave-terracotta);
  --primary-hover-light: #C56C39; /* Less bright hover state */
  --button-foreground-light: #FFFFFF; /* White text on terracotta */

  --button-bg-light: var(--mojave-desert-blue);
  --button-hover-bg-light: #7DA3C3; /* Less bright blue hover */
  --button-border-light: #5E89A7; /* Darker blue border */
  --button-text-light: #FFFFFF; /* White text on blue */

  /* --- Focus Ring Color (Light Mode - Mojave) --- */
  --primary-focus-light: rgba(181, 98, 41, 0.5); /* Darker terracotta with higher opacity for better visibility */

  /* --- Settings Panel & Input Details (Light Mode - Mojave) --- */
  --surface-input-light: #E7E1D3; /* Less bright input background */
  --border-input-light: #B8A787; /* Darker sand border for better contrast */
  --focus-ring-accent-light: var(--mojave-terracotta);
  --focus-ring-color-light: var(--primary-focus-light);
  --text-secondary-light: #775D3C; /* Darker brown text for better contrast */
  --primary-contrast-light: var(--button-foreground-light);
  --surface-disabled-light: #C1B393; /* Muted sand */
  --text-disabled-light: #958870; /* Darker muted sand */
  --surface-hover-light: #D7D1C3; /* Less bright hover state */
  --border-input-hover-light: #A09072; /* Darker sand border for better contrast */

  /* Base variables that will be switched (Default: Vegas/Dark Mode) */
  --background: var(--background-dark);
  --surface: var(--surface-dark);
  --panel-bg-color: var(--panel-bg-dark);
  --input-bg: var(--input-bg-dark);
  --disabled-bg: var(--disabled-bg-dark);
  --disabled-fg: var(--disabled-fg-dark);
  --code-block-bg-current: var(--code-block-bg);
  --code-block-border-current: var(--code-block-border);
  --inline-code-bg-current: var(--inline-code-bg);
  --code-text-color-current: var(--code-text-color);
  
  /* Override application input styles for the gambler theme */
  --settings-input-bg: var(--input-field-bg-dark);
  /* Tab Overrides */
  --panel-tab-bg: var(--tab-inactive-bg, var(--panel-tab-bg-dark));
  --panel-tab-active-bg: var(--tab-active-bg, var(--panel-tab-active-bg-dark));
  --panel-tab-text: var(--tab-inactive-color, var(--panel-tab-text-dark));
  --panel-tab-active-text: var(--tab-active-color, var(--panel-tab-active-text-dark));
  --panel-container-bg: var(--panel-container-bg-dark);
  
  /* Chat Bubble Styles */
  --surface-user-msg: var(--user-bubble-bg, var(--vegas-background-surface));
  --surface-backend-msg: var(--assistant-bubble-bg, var(--vegas-background-surface));

  /* Button Base Variables */
  --primary: var(--primary-dark);
  --primary-hover: var(--primary-hover-dark);
  --button-foreground: var(--button-foreground-dark);
  --button-bg: var(--button-bg-dark);
  --button-hover-bg: var(--button-hover-bg-dark);
  --button-border: var(--button-border-dark);
  --button-text: var(--button-text-dark);
  --primary-focus: var(--primary-focus-dark);

  /* Settings Panel Base Variables */
  --surface-input: var(--surface-input-dark);
  --border-input: var(--border-input-dark);
  --focus-ring-accent: var(--focus-ring-accent-dark);
  --focus-ring-color: var(--focus-ring-color-dark);
  --text-secondary: var(--text-secondary-dark);
  --primary-contrast: var(--primary-contrast-dark);
  --surface-disabled: var(--surface-disabled-dark);
  --text-disabled: var(--text-disabled-dark);
  --surface-hover: var(--surface-hover-dark);
  --border-input-hover: var(--border-input-hover-dark);
}

/* --- Light Mode (Mojave Desert) Overrides --- */
body.light-mode {
  /* Override core colors for light mode */
  --ui-text-primary: #2E1A05; /* Much darker brown text for higher contrast */
  --input-text-color: #2E1A05; /* Match UI text */
  --settings-input-bg: var(--input-field-bg-light); /* Override settings input background in light mode */
  --header-text-color: rgba(130, 145, 190, 1); /* Header text - matches assistant bubble color */
  --user-message-glow-color: var(--mojave-sunset-orange); /* User message glow */
  --backend-message-glow-color: var(--mojave-desert-blue); /* Backend message glow */
  --button-background-base: var(--mojave-terracotta); /* Button base color */
  --user-message-text-color: #2E1A05; /* Dark text for user bubbles */
  --assistant-message-text-color: #2E1A05; /* Dark text for assistant bubbles */
  --foreground: #2E1A05; /* Text color for all messages in light mode */
  --user-bubble-border: var(--mojave-terracotta, rgba(181, 98, 41, 0.8)); /* Terracotta border and bold text in light mode */
  --assistant-bubble-border: var(--mojave-terracotta, rgba(181, 98, 41, 0.8)); /* Terracotta border and bold text in light mode */
  background-color: rgba(245, 237, 226, 0.9) !important; /* Lighter, slightly transparent background */

  /* Base */
  --background: var(--background-light);
  --surface: var(--surface-light);
  --panel-bg-color: var(--panel-bg-light);
  --input-bg: var(--input-bg-light);
  --disabled-bg: var(--disabled-bg-light);
  --disabled-fg: var(--disabled-fg-light);
  --code-block-bg-current: var(--code-block-bg-light);
  --code-block-border-current: var(--code-block-border-light);
  --inline-code-bg-current: var(--inline-code-bg-light);
  --code-text-color-current: var(--code-text-color-light);

  /* Panel Tabs */
  --panel-tab-bg: var(--tab-inactive-bg, var(--panel-tab-bg-light));
  --panel-tab-active-bg: var(--tab-active-bg, var(--panel-tab-active-bg-light));
  --panel-tab-text: var(--tab-inactive-color, var(--panel-tab-text-light));
  --panel-tab-active-text: var(--tab-active-color, var(--panel-tab-active-text-light));
  --panel-container-bg: var(--panel-container-bg-light);
  
  /* Chat Bubble Styles - Light Mode */
  --surface-user-msg: var(--user-bubble-bg, rgba(224, 111, 64, 0.22)); /* Stronger orange background */
  --surface-backend-msg: var(--assistant-bubble-bg, rgba(130, 145, 190, 0.28)); /* Desert Twilight - purple-blue for sunset vibe */

  /* Button Base Variables */
  --primary: var(--primary-light);
  --primary-hover: var(--primary-hover-light);
  --button-foreground: var(--button-foreground-light);
  --button-bg: var(--button-bg-light);
  --button-hover-bg: var(--button-hover-bg-light);
  --button-border: var(--button-border-light);
  --button-text: var(--button-text-light);
  --primary-focus: var(--primary-focus-light);

  /* Settings Panel Base Variables */
  --surface-input: var(--surface-input-light);
  --border-input: var(--border-input-light);
  --focus-ring-accent: var(--focus-ring-accent-light);
  --focus-ring-color: var(--focus-ring-color-light);
  --text-secondary: var(--text-secondary-light);
  --primary-contrast: var(--primary-contrast-light);
  --surface-disabled: var(--surface-disabled-light);
  --text-disabled: var(--text-disabled-light);
  --surface-hover: var(--surface-hover-light);
  --border-input-hover: var(--border-input-hover-light);
}

/* Optional Vegas neon text effect class that can be applied to specific elements */
.vegas-neon-text {
  text-shadow: 
    0 0 5px var(--vegas-neon-gold),
    0 0 10px var(--vegas-neon-gold),
    0 0 20px var(--vegas-neon-gold);
}

/* Code block styling for the Gambler theme */
.bubbleContent pre {
  background: var(--code-block-bg-current) !important;
  border-left: 2px solid var(--code-block-border-current) !important;
  border-radius: 4px !important;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.15) !important;
  padding: 1em !important;
  margin: 0.8em 0 !important;
}

.bubbleContent pre code {
  color: var(--code-text-color-current) !important;
  font-family: 'Monaco', 'Consolas', monospace !important;
  font-size: 0.9em !important;
}

.bubbleContent code:not(pre code) {
  background: var(--inline-code-bg-current) !important;
  color: var(--code-text-color-current) !important;
  border: 1px solid var(--code-block-border-current) !important;
  border-radius: 3px !important;
  padding: 0.2em 0.4em !important;
  font-size: 0.85em !important;
  font-family: 'Monaco', 'Consolas', monospace !important;
}

/* Code syntax highlighting for the Gambler theme */
.bubbleContent .hljs-keyword,
.bubbleContent .hljs-selector-tag,
.bubbleContent .hljs-title.function_ {
  color: var(--vegas-gold-accent, #D4AF37) !important;
}

.bubbleContent .hljs-string,
.bubbleContent .hljs-attr {
  color: #9ACC99 !important;
}

.bubbleContent .hljs-comment {
  color: #777777 !important;
  font-style: italic !important;
}

.bubbleContent .hljs-variable,
.bubbleContent .hljs-template-variable,
.bubbleContent .hljs-regexp {
  color: #CC9A9A !important;
}

.bubbleContent .hljs-number,
.bubbleContent .hljs-literal {
  color: #CC99CC !important;
}

.bubbleContent .hljs-type,
.bubbleContent .hljs-built_in {
  color: #99BBCC !important;
}

/* Custom styles to override application-specific components */
.settings-panel input[type="number"],
.settings-panel textarea,
.glass-panel input[type="number"],
.glass-panel textarea,
.glass-panel input[type="text"],
.model-load-panel input[type="text"], 
.model-load-panel input[type="password"],
.session-edit-input,
.font-select {
  background-color: var(--settings-input-bg) !important;
  color: var(--input-text-color) !important;
  border-color: var(--vegas-gold-accent, rgba(212, 175, 55, 0.3)) !important;
  transition: all 0.2s ease-in-out !important;
}

/* Style overrides for when inputs are focused */
.settings-panel input[type="number"]:focus,
.settings-panel textarea:focus,
.glass-panel input[type="number"]:focus,
.glass-panel textarea:focus,
.glass-panel input[type="text"]:focus,
.model-load-panel input[type="text"]:focus, 
.model-load-panel input[type="password"]:focus,
.session-edit-input:focus,
.font-select:focus {
  background-color: var(--settings-input-bg) !important;
  border-color: var(--vegas-gold-accent) !important;
  box-shadow: 0 0 10px var(--vegas-gold-accent, rgba(212, 175, 55, 0.4)) !important;
}

/* Additional button styling for better theme consistency */
.settings-panel button,
.glass-panel button:not(.panel-tab-button):not(.edit-session-button):not(.delete-session-button):not(.session-edit-button),
.clear-chat-button-settings,
.model-load-button {
  border-color: var(--vegas-gold-accent, rgba(212, 175, 55, 0.4)) !important;
  transition: all 0.3s ease !important;
}

/* Hover states for buttons */
.settings-panel button:hover:not(:disabled),
.glass-panel button:not(.panel-tab-button):not(.edit-session-button):not(.delete-session-button):not(.session-edit-button):hover:not(:disabled),
.model-load-button:hover:not(:disabled) {
  border-color: var(--vegas-gold-accent) !important;
  box-shadow: 0 0 15px var(--vegas-gold-accent, rgba(212, 175, 55, 0.5)) !important;
}
/* Kanagawa Dragon Theme - CSS Variables */
:root {
  /* Original Mappings */
  --button-background-base: #8ba4b0; /* Mapped to --primary-dark */
  --header-text-color: #d4af37; /* Imperial gold */
  --input-text-color: #c8c093; /* Base Text */
  --ui-text-primary: #c8c093; /* Base Text */
  --user-message-glow-color: #88c6e0; /* Moonlit jade glow */
  --backend-message-glow-color: #425a77; /* Deep ocean indigo glow */

  /* --- Derived & Default Colors --- */
  /* Backgrounds (Using Kanagawa palette colors where possible) */
  --background-dark: #16161d; /* kanagawa.nvim bg_dim */
  --surface-dark: #1f1f28; /* kanagawa.nvim bg_dark (used in Wave) */
  --panel-bg-dark: #2d4f67; /* kanagawa.nvim waveBlue2 (used in Wave) */
  --background-light: #fdfaef; /* Warm Off-White (Parchment) */
  --surface-light: #fbf5e5; /* Light Beige (Scroll) */
  --panel-bg-light: #f5ead8; /* Warm Beige */

  /* Inputs */
  --input-bg-dark: var(--panel-bg-dark);
  --input-bg-light: #ffffff; /* White */
  --disabled-bg-dark: #5a5a6e; /* Derived */
  --disabled-bg-light: #e0d8c0; /* Muted Beige */
  --disabled-fg-dark: #a6a6b8; /* Derived */
  --disabled-fg-light: #998f78; /* Muted Brown/Grey */

  /* Panel Tabs */
  --panel-tab-bg-dark: var(--surface-dark);
  --panel-tab-bg-light: #f5ead8; /* Match panel bg light */
  --panel-tab-active-bg-dark: var(--panel-bg-dark);
  --panel-tab-active-bg-light: #fbf5e5; /* Match surface light */
  --panel-tab-text-dark: #a6a6b8; /* Using disabled fg */
  --panel-tab-text-light: #a0522d; /* Sienna (Wood) */
  --panel-tab-active-text-dark: var(--ui-text-primary);
  --panel-tab-active-text-light: #6b4f37; /* Dark Brown (Ink) */
  --panel-container-bg-dark: var(--panel-bg-dark);
  --panel-container-bg-light: #f5ead8; /* Match panel bg light */

  /* Buttons */
  --primary-dark: #8ba4b0; /* Original --button-background-base */
  --primary-light: #d4af37; /* Gold (Dragon Gold) */
  --primary-hover-dark: #738c99; /* Derived Darker blue/grey */
  --primary-hover-light: #c8a02b; /* Darker Gold */
  --button-foreground-dark: #16161d; /* Match dark background */
  --button-foreground-light: #5c4033; /* Dark brown text on Gold */

  --button-bg-dark: #3a5c5c; /* Seaweed green */
  --button-bg-light: #e07a5f; /* Terracotta/Muted Red */
  --button-hover-bg-dark: #5a5a6e; /* Using disabled bg */
  --button-hover-bg-light: #d06a4f; /* Darker Terracotta */
  --button-border-dark: #7fb0a5; /* Storm jade border */
  --button-border-light: #c06040; /* Subtler Terracotta Border */
  --button-text-dark: var(--ui-text-primary);
  --button-text-light: #fdf0e0; /* Light text on terracotta */

  /* Focus Ring */
  --primary-focus-dark: rgba(139, 164, 176, 0.4); /* Based on --primary-dark */
  --primary-focus-light: rgba(212, 175, 55, 0.5); /* Based on --primary-light gold */

  /* Settings Panel & Input Details */
  --surface-input-dark: #38384a; /* Derived */
  --surface-input-light: #ffffff; /* White */
  --border-input-dark: #5a5a6e; /* Using disabled bg */
  --border-input-light: #e0d8c0; /* Muted Beige Border */
  --focus-ring-accent-dark: var(--primary-dark);
  --focus-ring-accent-light: var(--primary-light);
  --focus-ring-color-dark: var(--primary-focus-dark);
  --focus-ring-color-light: var(--primary-focus-light);
  --text-secondary-dark: #a6a6b8; /* Using disabled fg */
  --text-secondary-light: #a0522d; /* Sienna (Wood) */
  --primary-contrast-dark: var(--button-foreground-dark);
  --primary-contrast-light: var(--button-foreground-light);
  --surface-disabled-dark: var(--disabled-bg-dark);
  --surface-disabled-light: var(--disabled-bg-light);
  --text-disabled-dark: var(--disabled-fg-dark);
  --text-disabled-light: var(--disabled-fg-light);
  --surface-hover-dark: #49495a; /* Derived */
  --surface-hover-light: #f8f0e0; /* Slightly darker parchment */
  --border-input-hover-dark: #838faa; /* Using button border */
  --border-input-hover-light: #d0c8b0; /* Darker beige border */

  /* --- Base variables that will be switched --- */
  --background: var(--background-dark);
  --surface: var(--surface-dark);
  --panel-bg-color: var(--panel-bg-dark);
  --input-bg: var(--input-bg-dark);
  --disabled-bg: var(--disabled-bg-dark);
  --disabled-fg: var(--disabled-fg-dark);
  --panel-tab-bg: var(--panel-tab-bg-dark);
  --panel-tab-active-bg: var(--panel-tab-active-bg-dark);
  --panel-tab-text: var(--panel-tab-text-dark);
  --panel-tab-active-text: var(--panel-tab-active-text-dark);
  --panel-container-bg: var(--panel-container-bg-dark);

  /* Button Base Variables */
  --primary: var(--primary-dark);
  --primary-hover: var(--primary-hover-dark);
  --button-foreground: var(--button-foreground-dark);
  --button-bg: var(--button-bg-dark);
  --button-hover-bg: var(--button-hover-bg-dark);
  --button-border: var(--button-border-dark);
  --button-text: var(--button-text-dark);
  --primary-focus: var(--primary-focus-dark);

  /* Settings Panel Base Variables */
  --surface-input: var(--surface-input-dark);
  --border-input: var(--border-input-dark);
  --focus-ring-accent: var(--focus-ring-accent-dark);
  --focus-ring-color: var(--focus-ring-color-dark);
  --text-secondary: var(--text-secondary-dark);
  --primary-contrast: var(--primary-contrast-dark);
  --surface-disabled: var(--surface-disabled-dark);
  --text-disabled: var(--text-disabled-dark);
  --surface-hover: var(--surface-hover-dark);
  --border-input-hover: var(--border-input-hover-dark);
}

/* --- Light Mode Overrides --- */
body.light-mode {
  /* Override root colors for light mode */
  --ui-text-primary: #6b4f37; /* Dark Brown (Ink) */
  --input-text-color: #6b4f37;
  --header-text-color: #a0522d; /* Sienna (Wood) */
  --user-message-glow-color: #f0a0aa; /* Muted Pink Glow */
  --backend-message-glow-color: #ffcc80; /* Warm Orange Glow */
  --button-background-base: #d4af37; /* Override original mapping */

  /* Base */
  --background: var(--background-light);
  --surface: var(--surface-light);
  --panel-bg-color: var(--panel-bg-light);
  --input-bg: var(--input-bg-light);
  --disabled-bg: var(--disabled-bg-light);
  --disabled-fg: var(--disabled-fg-light);

  /* Panel Tabs */
  --panel-tab-bg: var(--panel-tab-bg-light);
  --panel-tab-active-bg: var(--panel-tab-active-bg-light);
  --panel-tab-text: var(--panel-tab-text-light);
  --panel-tab-active-text: var(--panel-tab-active-text-light);
  --panel-container-bg: var(--panel-container-bg-light);

  /* Button Base Variables */
  --primary: var(--primary-light);
  --primary-hover: var(--primary-hover-light);
  --button-foreground: var(--button-foreground-light);
  --button-bg: var(--button-bg-light);
  --button-hover-bg: var(--button-hover-bg-light);
  --button-border: var(--button-border-light);
  --button-text: var(--button-text-light);
  --primary-focus: var(--primary-focus-light);

  /* Settings Panel Base Variables */
  --surface-input: var(--surface-input-light);
  --border-input: var(--border-input-light);
  --focus-ring-accent: var(--focus-ring-accent-light);
  --focus-ring-color: var(--focus-ring-color-light);
  --text-secondary: var(--text-secondary-light);
  --primary-contrast: var(--primary-contrast-light);
  --surface-disabled: var(--surface-disabled-light);
  --text-disabled: var(--text-disabled-light);
  --surface-hover: var(--surface-hover-light);
  --border-input-hover: var(--border-input-hover-light);
}
